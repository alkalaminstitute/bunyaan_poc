{"ast":null,"code":"var _jsxFileName = \"/Users/smaronesy/Blockchain/python_blockchain/bunyaan_instance_1/frontend/src/components/Pending.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useRef, useEffect } from 'react';\nimport Transactions from './Transactions';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LOCAL_STORAGE_KEY = 'pending';\n\nfunction Pending(pending, pubKey) {\n  _s();\n\n  console.log(pubKey);\n  const [pendingTransactions, setpendingTransactions] = useState([]); // const transactionRef = useRef()\n\n  useEffect(() => {\n    const pendingTxs = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (pendingTxs) setpendingTransactions(pendingTxs);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(pendingTransactions));\n  }, [pendingTransactions]);\n  const request = {\n    \"miner_address\": {\n      pubKey\n    }\n  };\n\n  function mineTransactions(e) {\n    axios.post('/mine_block', request).then(res => {\n      console.log(res);\n      console.log(res.data);\n    });\n    window.location.reload();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(Transactions, {\n      txs: pending.pending\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"mine-btn\",\n      onClick: mineTransactions,\n      children: \"Mine Transaction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Pending, \"thqCGK1OqCaujz82vO+NRYDm9XM=\");\n\n_c = Pending;\nexport default Pending;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pending\");","map":{"version":3,"names":["React","Component","useState","useRef","useEffect","Transactions","axios","LOCAL_STORAGE_KEY","Pending","pending","pubKey","console","log","pendingTransactions","setpendingTransactions","pendingTxs","JSON","parse","localStorage","getItem","setItem","stringify","request","mineTransactions","e","post","then","res","data","window","location","reload"],"sources":["/Users/smaronesy/Blockchain/python_blockchain/bunyaan_instance_1/frontend/src/components/Pending.js"],"sourcesContent":["import React, { Component, useState, useRef, useEffect } from 'react';\nimport Transactions from './Transactions';\nimport axios from 'axios';\n\nconst LOCAL_STORAGE_KEY = 'pending'\n\nfunction Pending(pending, pubKey) {\n    console.log(pubKey)\n    const [pendingTransactions, setpendingTransactions] = useState([])\n    // const transactionRef = useRef()\n    \n    useEffect(() => {\n        const pendingTxs = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\n        if (pendingTxs) setpendingTransactions(pendingTxs)\n    }, [])\n\n    useEffect(() => {\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(pendingTransactions))\n    }, [pendingTransactions])\n\n    const request = {\n        \"miner_address\": {pubKey}\n    }\n\n    function mineTransactions(e) {\n        axios.post('/mine_block', request)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n            })\n        window.location.reload();\n    }\n\n    return (\n        <div className='content'>\n            <Transactions txs={pending.pending} />\n            <button className='mine-btn' onClick={mineTransactions}>Mine Transaction</button>\n        </div>\n    );\n}\n\nexport default Pending;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6CC,SAA7C,QAA8D,OAA9D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAiB,GAAG,SAA1B;;AAEA,SAASC,OAAT,CAAiBC,OAAjB,EAA0BC,MAA1B,EAAkC;EAAA;;EAC9BC,OAAO,CAACC,GAAR,CAAYF,MAAZ;EACA,MAAM,CAACG,mBAAD,EAAsBC,sBAAtB,IAAgDZ,QAAQ,CAAC,EAAD,CAA9D,CAF8B,CAG9B;;EAEAE,SAAS,CAAC,MAAM;IACZ,MAAMW,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBZ,iBAArB,CAAX,CAAnB;IACA,IAAIQ,UAAJ,EAAgBD,sBAAsB,CAACC,UAAD,CAAtB;EACnB,CAHQ,EAGN,EAHM,CAAT;EAKAX,SAAS,CAAC,MAAM;IACZc,YAAY,CAACE,OAAb,CAAqBb,iBAArB,EAAwCS,IAAI,CAACK,SAAL,CAAeR,mBAAf,CAAxC;EACH,CAFQ,EAEN,CAACA,mBAAD,CAFM,CAAT;EAIA,MAAMS,OAAO,GAAG;IACZ,iBAAiB;MAACZ;IAAD;EADL,CAAhB;;EAIA,SAASa,gBAAT,CAA0BC,CAA1B,EAA6B;IACzBlB,KAAK,CAACmB,IAAN,CAAW,aAAX,EAA0BH,OAA1B,EACKI,IADL,CACUC,GAAG,IAAI;MACThB,OAAO,CAACC,GAAR,CAAYe,GAAZ;MACAhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAhB;IACH,CAJL;IAKAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACH;;EAED,oBACI;IAAK,SAAS,EAAC,SAAf;IAAA,wBACI,QAAC,YAAD;MAAc,GAAG,EAAEtB,OAAO,CAACA;IAA3B;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAQ,SAAS,EAAC,UAAlB;MAA6B,OAAO,EAAEc,gBAAtC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GAjCQf,O;;KAAAA,O;AAmCT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}