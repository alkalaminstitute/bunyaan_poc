{"ast":null,"code":"var _jsxFileName = \"/Users/smaronesy/Blockchain/python_blockchain/bunyaan_instance_1/frontend/src/components/SmartContractDetails.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useRef } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SmartContractDetails(props) {\n  _s();\n\n  const location = useLocation();\n  const amount = useRef();\n  const [loanRemaining, setLoanRemaining] = useState(location.state.sc.loan_remaining);\n  const [loanGranted, setLoanGranted] = useState(location.state.sc.loan_granted);\n  const [payed, setPayed] = useState(false);\n\n  function handleAddPartner() {\n    // console.log(\"HELLO\")\n    // console.log(location.state.sc.block_index)\n    // console.log(location.state.sc.tx_index)\n    var request = {\n      'lender_wallet_address': location.state.pubKey,\n      'contract_block_index': location.state.sc.bl_idx,\n      'contract_tx_index': location.state.sc.sctx_idx,\n      'loan_amount': amount.current.value\n    };\n    console.log(amount.current.value);\n    axios.post('/add_lender_tocontract', request).then(res => {\n      setLoanRemaining(res.data.amount_remaining);\n      setLoanGranted(res.data.loan_granted);\n    });\n  }\n\n  function handlePayRent() {\n    var request = {\n      'contract_block_index': location.state.sc.bl_idx,\n      'contract_tx_index': location.state.sc.sctx_idx\n    };\n    axios.post('/pay_rent', request).then(res => {\n      setPayed(res.data.payed);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content_scd\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card__body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__index\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"SC Block Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 48\n          }, this), \"  \", location.state.sc.block_index]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__hash\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"SC Transaction Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 47\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            children: location.state.sc.tx_index\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 77\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__prevHash\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Borrower:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 51\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            children: location.state.sc.borrower\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__nonce\",\n          children: [\"Property: \", location.state.sc.property.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Seller: \", location.state.sc.property.seller]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Price: \", location.state.sc.property.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Downpayment: \", location.state.sc.downpayment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Loan Granted: \", loanGranted]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Loan Remaining: \", loanRemaining]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: [\"Started: \", location.state.sc.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__timestamp\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Loan Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"small_input_box\",\n          ref: amount,\n          type: \"text\",\n          id: \"fname\",\n          name: \"amount\",\n          placeholder: \"Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"card__btn\",\n          onClick: handleAddPartner,\n          children: \"Become a Partner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"card__btn\",\n          onClick: handlePayRent,\n          children: \"Pay Rent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SmartContractDetails, \"WRvRGgwhdVAQL0pEcLmaNHokelQ=\", false, function () {\n  return [useLocation];\n});\n\n_c = SmartContractDetails;\nexport default SmartContractDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"SmartContractDetails\");","map":{"version":3,"names":["axios","React","useState","useRef","useLocation","SmartContractDetails","props","location","amount","loanRemaining","setLoanRemaining","state","sc","loan_remaining","loanGranted","setLoanGranted","loan_granted","payed","setPayed","handleAddPartner","request","pubKey","bl_idx","sctx_idx","current","value","console","log","post","then","res","data","amount_remaining","handlePayRent","block_index","tx_index","borrower","property","address","seller","price","downpayment","time"],"sources":["/Users/smaronesy/Blockchain/python_blockchain/bunyaan_instance_1/frontend/src/components/SmartContractDetails.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useState, useRef } from 'react';\nimport { useLocation } from \"react-router-dom\";\n\nfunction SmartContractDetails(props) {\n\n    const location = useLocation()\n    const amount = useRef()\n    const [loanRemaining, setLoanRemaining] = useState(location.state.sc.loan_remaining)\n    const [loanGranted, setLoanGranted] = useState(location.state.sc.loan_granted)\n    const [payed, setPayed] = useState(false)\n\n    function handleAddPartner() {\n        // console.log(\"HELLO\")\n        // console.log(location.state.sc.block_index)\n        // console.log(location.state.sc.tx_index)\n\n        var request = {\n            'lender_wallet_address': location.state.pubKey,\n            'contract_block_index': location.state.sc.bl_idx,\n            'contract_tx_index': location.state.sc.sctx_idx,\n            'loan_amount': amount.current.value\n        }\n\n        console.log(amount.current.value)\n\n        axios.post('/add_lender_tocontract', request)\n            .then(res => {\n                setLoanRemaining(res.data.amount_remaining)\n                setLoanGranted(res.data.loan_granted)\n            }\n        );\n    }\n\n    function handlePayRent() {\n\n        var request = {\n            'contract_block_index': location.state.sc.bl_idx,\n            'contract_tx_index': location.state.sc.sctx_idx\n        }\n\n        axios.post('/pay_rent', request)\n            .then(res => {\n                setPayed(res.data.payed)\n            }\n        );\n    }\n\n    return (\n        <div className='content_scd'>\n            <div className='card'>\n                <div className='card__body'>\n                    <p className='card__index'><b>SC Block Number</b>  {location.state.sc.block_index}</p>\n                    <p className='card__hash'><b>SC Transaction Number:</b> <i>{location.state.sc.tx_index}</i></p>\n                    <p className='card__prevHash'><b>Borrower:</b> <i>{location.state.sc.borrower}</i></p>\n                    <p className='card__nonce'>Property: {location.state.sc.property.address}</p>\n                    <p className='card__timestamp'>Seller: {location.state.sc.property.seller}</p>\n                    <p className='card__timestamp'>Price: {location.state.sc.property.price}</p>\n                    <p className='card__timestamp'>Downpayment: {location.state.sc.downpayment}</p>\n                    <p className='card__timestamp'>Loan Granted: {loanGranted}</p>\n                    <p className='card__timestamp'>Loan Remaining: {loanRemaining}</p>\n                    <p className='card__timestamp'>Started: {location.state.sc.time}</p>\n                    <br />\n                    <p className='card__timestamp'><b>Loan Amount</b></p>\n                    <input className=\"small_input_box\" ref={amount} type=\"text\" id=\"fname\" name=\"amount\" placeholder=\"Amount\"/>\n                    <br />\n                    <button className='card__btn' onClick={handleAddPartner}>Become a Partner</button>\n                    <button className='card__btn' onClick={handlePayRent}>Pay Rent</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default SmartContractDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module"}